(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{7020:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/today",function(){return t(1308)}])},1308:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return k}});var r=t(5893),i=t(1664),a=t(7294),o=t(8100),c=t(4051),l=t.n(c),s=t(9669),d=t.n(s);function u(n,e,t,r,i,a,o){try{var c=n[a](o),l=c.value}catch(s){return void t(s)}c.done?e(l):Promise.resolve(l).then(r,i)}var p=function(){var n,e=(n=l().mark((function n(e){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d().get(e);case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(n){u(a,r,i,o,c,"next",n)}function c(n){u(a,r,i,o,c,"throw",n)}o(void 0)}))});return function(n){return e.apply(this,arguments)}}(),f=t(4226),h=["Milan","London","Miami","Madrid","Berlin","Tokyo","Bangkok","New York"];function x(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var g=function(n){var e=n.onSelectCity;return(0,r.jsx)("div",{style:{display:"flex",gap:12,position:"absolute",left:"50%",transform:"translate(-50%, 0)",flexWrap:"wrap",width:"100%",justifyContent:"center"},children:h.map((function(n){return(0,r.jsx)(y,{onSelectCity:e,city:n},n)}))})},y=function(n){var e=n.city,t=n.onSelectCity,i=(0,f.r7)({onPress:function(){t(e)}}).pressProps;return(0,r.jsx)("div",function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){x(n,e,t[e])}))}return n}({},i,{role:"button",tabIndex:0,style:{padding:"6px 12px",background:"#1A98E6",color:"white",borderRadius:6,fontSize:14,whiteSpace:"nowrap"},children:e}))},v=t(8398),w=function(n){var e=n.coordinates,t=n.city,i=b({lat:e.lat,lon:e.lon}),a=(0,o.ZP)("https://api.openweathermap.org/data/2.5/weather".concat(i).concat("&lang=it","&appid=").concat("73bc106dd1fa3573734d08c3d8eb2de5","\n  "),p),c=a.data;if(a.error)return(0,r.jsx)("div",{children:"failed to load"});if(!c)return(0,r.jsx)("div",{children:"loading..."});var l=Math.round(parseFloat(c.main.temp)-273.15),s=(0,v.d)(m[c.weather[0].main]);return console.log({main:c.weather[0].main}),(0,r.jsx)("div",{style:{height:"calc(100% - 50px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:(0,r.jsxs)("div",{style:{maxWidth:200,width:"100%",background:"white",borderRadius:16,boxShadow:"0px 0px 15px 5px rgb(0 0 0 / 5%)",padding:40,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[(0,r.jsx)("h2",{style:{fontSize:24},children:t}),"ciao",s?(0,r.jsx)("img",{src:s,alt:c.weather[0].main,width:60,height:60}):null,(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{fontSize:16},children:c.weather[0].description}),(0,r.jsxs)("p",{style:{fontSize:40},children:[l,"\xb0"]})]})]})})},b=function(n){var e=n.lat,t=n.lon;return"?lat=".concat(e,"&lon=").concat(t)},m={Clouds:"/images/clouds.png",Clear:"/images/clear.png",Rain:"/images/rain.png"},j=function(){var n=(0,a.useState)("Milan"),e=n[0],t=n[1],c=(0,o.ZP)("http://api.openweathermap.org/geo/1.0/direct?q=".concat(e,"&limit=1&appid=").concat("73bc106dd1fa3573734d08c3d8eb2de5","\n  "),p),l=c.data,s=c.error;return!l||s?null:(0,r.jsxs)("div",{style:{height:"100vh",padding:"2%"},children:[(0,r.jsx)(i.default,{href:"/",passHref:!0,children:(0,r.jsx)("a",{style:{display:"flex",gap:12},children:(0,r.jsx)("span",{role:"img","aria-label":"arrow back",children:"\u2b05\ufe0f"})})}),(0,r.jsx)(g,{onSelectCity:t}),(0,r.jsx)(w,{coordinates:{lat:l[0].lat,lon:l[0].lon},city:e})]})},k=function(){return(0,r.jsx)(j,{})}}},function(n){n.O(0,[73,774,888,179],(function(){return e=7020,n(n.s=e);var e}));var e=n.O();_N_E=e}]);