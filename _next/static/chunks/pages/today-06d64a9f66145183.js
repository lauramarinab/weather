(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{7020:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/today",function(){return t(1308)}])},1308:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(5893),i=t(1664),a=t(7294),o=t(8100),c=t(4051),l=t.n(c),s=t(9669),d=t.n(s);function u(e,n,t,r,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}var p=function(){var e,n=(e=l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){u(a,r,i,o,c,"next",e)}function c(e){u(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),f=t(4226),h=["Milan","London","Miami","Madrid","Berlin","Tokyo","Bangkok","New York"];function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=function(e){var n=e.onSelectCity;return(0,r.jsx)("div",{style:{display:"flex",gap:12,position:"absolute",left:"50%",transform:"translate(-50%, 0)",flexWrap:"wrap",width:"100%",justifyContent:"center"},children:h.map((function(e){return(0,r.jsx)(g,{onSelectCity:n,city:e},e)}))})},g=function(e){var n=e.city,t=e.onSelectCity,i=(0,f.r7)({onPress:function(){t(n)}}).pressProps;return(0,r.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}({},i,{role:"button",tabIndex:0,style:{padding:"6px 12px",background:"#1A98E6",color:"white",borderRadius:6,fontSize:14,whiteSpace:"nowrap"},children:n}))},v=function(e){var n=e.coordinates,t=e.city,i=w({lat:n.lat,lon:n.lon}),a=(0,o.ZP)("https://api.openweathermap.org/data/2.5/weather".concat(i).concat("&lang=it","&appid=").concat("73bc106dd1fa3573734d08c3d8eb2de5","\n  "),p),c=a.data;if(a.error)return(0,r.jsx)("div",{children:"failed to load"});if(!c)return(0,r.jsx)("div",{children:"loading..."});var l=Math.round(parseFloat(c.main.temp)-273.15),s=b[c.weather[0].main];return(0,r.jsx)("div",{style:{height:"calc(100% - 50px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:(0,r.jsxs)("div",{style:{maxWidth:200,width:"100%",background:"white",borderRadius:16,boxShadow:"0px 0px 15px 5px rgb(0 0 0 / 5%)",padding:40,display:"flex",flexDirection:"column",alignItems:"center",gap:24},children:[(0,r.jsx)("h2",{style:{fontSize:24},children:t}),(0,r.jsx)("p",{children:c.weather[0].main}),s?(0,r.jsx)("img",{src:s,alt:c.weather[0].main,width:60,height:60}):null,(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{fontSize:16},children:c.weather[0].description}),(0,r.jsxs)("p",{style:{fontSize:40},children:[l,"\xb0"]})]})]})})},w=function(e){var n=e.lat,t=e.lon;return"?lat=".concat(n,"&lon=").concat(t)},b={Clouds:"/images/clouds.png",Clear:"/images/clear.png",Rain:"/images/rain.png"},m=function(){var e=(0,a.useState)("Milan"),n=e[0],t=e[1],c=(0,o.ZP)("http://api.openweathermap.org/geo/1.0/direct?q=".concat(n,"&limit=1&appid=").concat("73bc106dd1fa3573734d08c3d8eb2de5","\n  "),p),l=c.data,s=c.error;return!l||s?null:(0,r.jsxs)("div",{style:{height:"100vh",padding:"2%"},children:[(0,r.jsx)(i.default,{href:"/",passHref:!0,children:(0,r.jsx)("a",{style:{display:"flex",gap:12},children:(0,r.jsx)("span",{role:"img","aria-label":"arrow back",children:"\u2b05\ufe0f"})})}),(0,r.jsx)(y,{onSelectCity:t}),(0,r.jsx)(v,{coordinates:{lat:l[0].lat,lon:l[0].lon},city:n})]})},j=function(){return(0,r.jsx)(m,{})}}},function(e){e.O(0,[73,774,888,179],(function(){return n=7020,e(e.s=n);var n}));var n=e.O();_N_E=n}]);